/* ------------------------------------------------------------------------
    plugin-name:jQuery response slider
    Developped By: ZHAO Xudong, zxdong@gmail.com -> http://html5beta.com/jquery-2/jquery-response-slider/
    License: MIT
------------------------------------------------------------------------ */
(function(e){function t(t,n){var r={speed:500,timer:4e3,autoSlider:!0,hasNav:!0,pauseOnHover:!0,navLeftTxt:"&lt;",navRightTxt:"&gt;",zIndex:20,showIndicator:!0,ease:"linear"},i=this,s=i.defs=e.extend(r,t),o={position:"absolute",left:"0",top:0,width:"100%",height:"100%",overflow:"hidden","z-index":s.zIndex};i.t=n.show().wrapInner('<div class="response-slides" />'),i.p=i.t.children().css(o),i.ss=i.p.children().addClass("response-slide").css(o).css("left","100%"),i.len=i.ss.length,i.flag=null,i.pause=!1,i.onAction=!1,i.currentPage=0,i.ss.eq(0).css("left",0);if(s.showIndicator){var u=i.len,a='<span class="ss-dots">';for(var f=0;f<u;f++)a+='<a data-ss-page="'+f+'" href="javascript:;" class="ss-dot ss-on"></a>';var l=i.t.append(a+"</span>").children(".ss-dots").css("z-index",s.zIndex+5+i.len);i.t.on("click",".ss-dot",function(){var t=e(this),n=parseInt(t.data("ss-page"),10);isNext=n>i.currentPage;if(i.onAction||n===i.currentPage)return;i.onAction=!0,i.action(n,isNext)})}s.hasNav&&(i.t.append('<a href="javascript:;" class="ss-nav ss-nav-prev">'+s.navLeftTxt+'</a><a href="javascript:;" class="ss-nav ss-nav-next">'+s.navRightTxt+"</a>").children(".ss-nav").css("z-index",s.zIndex+10+i.len),i.t.on("click",".ss-nav",function(){if(i.onAction)return;i.onAction=!0;var t=e(this).hasClass("ss-nav-next"),n=i.len,r=t?(i.currentPage+1+n)%n:(i.currentPage-1+n)%n;i.action(r,t)})),i.defs.autoSlider&&i.autoroll(),s.pauseOnHover&&i.t.hover(function(){i.pause=!0},function(){i.pause=!1})}t.prototype={action:function(e,t){var n=this,r=n.defs,i=r.speed,s=n.currentPage,o=n.ss,u=t?100:-100,a=o.eq(s).show(),f=n.t.find(".ss-dot"),l=o.eq(e).css("left",u+"%").show();f.eq(s).addClass("ss-on").siblings().removeClass("ss-on"),l.animate({left:0},i,r.ease),a.animate({left:-u+"%"},i,r.ease,function(){n.currentPage=e,f.eq(n.currentPage).addClass("ss-on").siblings().removeClass("ss-on"),n.onAction=!1,r.autoSlider&&(clearTimeout(n.flag),n.flag=setTimeout(function(){n.autoroll()},r.timer))})},autoroll:function(){var e=this;if(!e.onAction&&!e.pause){e.onAction=!0;var t=(e.currentPage+1+e.len)%e.len;e.action(t,!0)}else clearTimeout(e.flag),e.flag=setTimeout(function(){e.autoroll()},e.defs.timer)},destroy:function(){var t=this;clearTimeout(t.flag),t.ss.unwrap(),t.t.off("click","**").removeAttr("style").children(".ss-nav").remove(),t.t.children(".ss-dots").remove(),t.t.children(".response-slide").removeAttr("style").removeClass("response-slide"),e.each(t,function(e,n){t[e]=null})}},e.fn.responseSlider=function(e){return new t(e,this)}})(jQuery);